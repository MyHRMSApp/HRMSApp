<ion-header>
  <ion-navbar color="header">
  <ion-buttons end>
    <button style="background-color:white" end (click)="openMenu()" class="menu">
      <ion-icon style="font-size: 2.2em" color="loginButton" name="menu"></ion-icon>
    </button>
    </ion-buttons>
    <ion-title>Attendance</ion-title>
  </ion-navbar>
</ion-header>


<ion-content >
  <ion-calendar *ngIf="calenderVIew" [(ngModel)]="dateRange" (onChange)="onChange($event)"
      [options]="optionsRange"
      [type]="string"
      [format]="'YYYY-MM-DD'">
  </ion-calendar>

  <ion-grid>
    <ion-card>
      <ion-row>
        <ion-col style="padding: 5px 0px 5px 5px" col-4> <span class="clrBox approved"></span> <div class="clrBoxLabel">Approved</div></ion-col>
        <ion-col style="padding: 5px 0px 5px 0px" col-4> <span class="clrBox Unautharized"></span> <div class="clrBoxLabel">Unauthorized absence</div></ion-col>
        <ion-col style="padding: 5px 0px 5px 0px" col-4> <span class="clrBox Normal"></span> <div class="clrBoxLabel">Normal Punch</div></ion-col>
        <ion-col style="padding: 5px 0px 5px 5px" col-4> <span class="clrBox RequestRaised"></span> <div class="clrBoxLabel">Request Raised</div></ion-col>
        <ion-col style="padding: 5px 0px 5px 0px" col-4> <span class="clrBox HolidayWeekoff"></span> <div class="clrBoxLabel">Holiday/Weekly off</div></ion-col>
      </ion-row>
    </ion-card>

    <ion-list>
        <ion-item style="border-radius: 6px;">
          <ion-thumbnail style="border-radius: 6px;" item-start [ngClass]="currentCssClass != ''?currentCssClass:'ATT1_NormalPunch_ATT2_NormalPunch'">
            <p class="dateBox" [innerHTML]="currentDate"></p>
            <p class="dateBox" [innerHTML]="currentMonth"></p>
          </ion-thumbnail>
          <ion-row>
            <ion-col col-12><span class="label-time"><pre><b>Working Hrs :</b> <span style="color: gray">{{totalHoursWorked}} hrs</span></pre></span></ion-col>
            <ion-col col-6><span class="label-time"><pre><b>IN         :</b> <span style="font-weight: 900;color: #0AA0BF;">{{punchIN}}</span></pre></span></ion-col>
            <ion-col col-6><span class="label-time"><pre><b>OUT        :</b> <span style="font-weight: 900;color: #0AA0BF;">{{punchOUT}}</span></pre></span></ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6><span class="label-time"><pre><b>MIDIN  : </b> <span style="color: #068C61;font-weight: 900;">{{midIN}}</span></pre></span></ion-col>
            <ion-col col-6><span class="label-time"><pre><b>MIDOUT :</b> <span style="color: #068C61;font-weight: 900;">{{midOUT}}</span></pre></span></ion-col>
          </ion-row>
          <ion-row>
            <ion-col col-6  *ngIf="requests_ATT_1 != null"><span  class="label-time"><pre><b *ngFor="let req_ATT_1 of requests_ATT_1">{{req_ATT_1}} </b></pre></span></ion-col>
            <ion-col col-6  *ngIf="requests_ATT_2 != null"><span  class="label-time"><pre><b *ngFor="let req_ATT_2 of requests_ATT_2">{{req_ATT_2}} </b></pre></span></ion-col>
          </ion-row>
        </ion-item>
      </ion-list>


      <ion-card class="attendance-btn-layout">
        <ion-row>
          <ion-col (click)="applyLeave()" col-4><button ion-button block class="btn-clr">Apply <br>leave</button></ion-col>
          <ion-col (click)="applyOD()" col-4><button ion-button block class="btn-clr">Apply <br>OD</button></ion-col>
          <ion-col (click)="applyFTP()" col-4><button ion-button block class="btn-clr">Apply <br>FTP</button></ion-col>
        </ion-row>
      </ion-card>
      
    </ion-grid>
</ion-content>

<ion-footer style="height:3.5em; text-align: center ">
      <img style="margin-top:2%" [src]="homeIcon" height="35px" width="35px" />
</ion-footer>

